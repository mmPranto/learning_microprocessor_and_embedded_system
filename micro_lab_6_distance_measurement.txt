const int echoPin = 6; // Echo Pin of Ultrasonic Sensor 
const int trigPin = 7; // Trigger Pin of Ultrasonic Sensor 
const int LED_RED = 11; // LED at Pin 4 
const int LED_YELLOW = 12;
const int LED_GREEN = 13;
void setup()  
{ 
  Serial.begin(9600); // Starting Serial Communication 
  pinMode(trigPin, OUTPUT); // initialising pin 7 as output 
  pinMode(echoPin, INPUT); // initialising pin 6 as input 
  pinMode(LED_RED, OUTPUT); // initialising pin 4 as output
  pinMode(LED_YELLOW,OUTPUT);
  pinMode(LED_GREEN,OUTPUT); 
} 
void loop() 
{ 
  long duration, inches, cm; 
  digitalWrite(trigPin, LOW); 
  delayMicroseconds(2); 
  digitalWrite(trigPin, HIGH); 
  delayMicroseconds(10); 
  digitalWrite(trigPin, LOW); 
    
  duration = pulseIn(echoPin, HIGH); // using pulsin function to determine total time 
  inches = microsecondsToInches(duration); // calling method 
  cm = microsecondsToCentimeters(duration); // calling method 
    if(cm<=10 || inches<=4) 
    {  
      digitalWrite(LED_YELLOW,LOW);
      digitalWrite(LED_GREEN,LOW); 
      digitalWrite(LED_RED, HIGH); 
    } 
    else if((cm<=20 && cm>10)||(inches>4 && inches<=8))
    {
      digitalWrite(LED_RED, LOW);
      digitalWrite(LED_GREEN, LOW);
      digitalWrite(LED_YELLOW,HIGH);
    }
    else  
    { 
      digitalWrite(LED_RED, LOW);
      digitalWrite(LED_YELLOW, LOW);
      digitalWrite(LED_GREEN,HIGH);
    } 
    delay(100); 
} 
 
long microsecondsToInches(long microseconds) // method to covert microsec to inches  
{ 
 return microseconds / 74 / 2; 
} 
 
long microsecondsToCentimeters(long microseconds) // method to covert microsec to cm 
{ 
   return microseconds / 29 / 2; 
} 